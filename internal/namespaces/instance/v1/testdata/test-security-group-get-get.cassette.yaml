---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 166
    host: api.scaleway.com
    body: "{\"name\":\"cli-sg-charming-rubin\",\"project\":\"fa1e3217-dc80-42ac-85c3-3f034b78b552\",\"stateful\":true,\"inbound_default_policy\":\"accept\",\"outbound_default_policy\":\"accept\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 587
    body: "{\"security_group\": {\"id\": \"6bbed5ce-6b01-4841-9adb-c18fc2b80774\", \"creation_date\": \"2025-11-04T10:12:59.006303+00:00\", \"modification_date\": \"2025-11-04T10:12:59.006303+00:00\", \"name\": \"cli-sg-charming-rubin\", \"description\": null, \"organization\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"project\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"servers\": [], \"stateful\": true, \"inbound_default_policy\": \"accept\", \"outbound_default_policy\": \"accept\", \"organization_default\": false, \"project_default\": false, \"enable_default_security\": true, \"state\": \"available\", \"tags\": [], \"zone\": \"fr-par-1\"}}"
    headers:
      Content-Length:
      - "587"
      Content-Type:
      - application/json
      Date:
      - Tue, 04 Nov 2025 10:12:59 GMT
      Location:
      - https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/6bbed5ce-6b01-4841-9adb-c18fc2b80774
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - db548b67-958f-4e26-94c7-b9e6f25f3cb9
    status: 201 Created
    code: 201
    duration: 174.14533ms
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/6bbed5ce-6b01-4841-9adb-c18fc2b80774
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 587
    body: "{\"security_group\": {\"id\": \"6bbed5ce-6b01-4841-9adb-c18fc2b80774\", \"creation_date\": \"2025-11-04T10:12:59.006303+00:00\", \"modification_date\": \"2025-11-04T10:12:59.006303+00:00\", \"name\": \"cli-sg-charming-rubin\", \"description\": null, \"organization\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"project\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"servers\": [], \"stateful\": true, \"inbound_default_policy\": \"accept\", \"outbound_default_policy\": \"accept\", \"organization_default\": false, \"project_default\": false, \"enable_default_security\": true, \"state\": \"available\", \"tags\": [], \"zone\": \"fr-par-1\"}}"
    headers:
      Content-Length:
      - "587"
      Content-Type:
      - application/json
      Date:
      - Tue, 04 Nov 2025 10:12:59 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - be6ead0d-389b-4d8d-9a37-cfea9fc0b18d
    status: 200 OK
    code: 200
    duration: 55.698506ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      page:
      - "1"
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/6bbed5ce-6b01-4841-9adb-c18fc2b80774/rules?page=1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 1536
    body: "{\"rules\": [{\"id\": \"11111111-2222-4333-8444-000000000001\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 25, \"dest_port_to\": null, \"position\": 1, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000002\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 465, \"dest_port_to\": null, \"position\": 2, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000003\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"0.0.0.0/0\", \"dest_ip_range\": null, \"dest_port_from\": 587, \"dest_port_to\": null, \"position\": 3, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000004\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 25, \"dest_port_to\": null, \"position\": 4, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000005\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 465, \"dest_port_to\": null, \"position\": 5, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}, {\"id\": \"11111111-2222-4333-8444-000000000006\", \"protocol\": \"TCP\", \"direction\": \"outbound\", \"ip_range\": \"::/0\", \"dest_ip_range\": null, \"dest_port_from\": 587, \"dest_port_to\": null, \"position\": 6, \"editable\": false, \"action\": \"drop\", \"zone\": \"fr-par-1\"}]}"
    headers:
      Content-Length:
      - "1536"
      Content-Type:
      - application/json
      Date:
      - Tue, 04 Nov 2025 10:12:59 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - dc007331-e008-487c-8690-69c36bfb4c28
    status: 200 OK
    code: 200
    duration: 72.568131ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/security_groups/6bbed5ce-6b01-4841-9adb-c18fc2b80774
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Tue, 04 Nov 2025 10:12:59 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 16d5dd10-8b0b-48d5-a0a3-2e89c03d3bb0
    status: 204 No Content
    code: 204
    duration: 110.833429ms
