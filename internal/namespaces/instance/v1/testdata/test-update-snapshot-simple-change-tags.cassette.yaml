---
version: 2
interactions:
- request:
    body: '{"volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b", "name": "cli-test",
      "volume_type": "b_ssd", "export_uri": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "server": null, "size": 10000000000,
      "state": "available", "creation_date": "2023-12-14T14:00:00.949529+00:00", "modification_date":
      "2023-12-14T14:00:00.949529+00:00", "tags": [], "zone": "fr-par-1"}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes
    method: POST
  response:
    body: '{"volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b", "name": "cli-test",
      "volume_type": "b_ssd", "export_uri": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "server": null, "size": 10000000000,
      "state": "available", "creation_date": "2023-12-14T14:00:00.949529+00:00", "modification_date":
      "2023-12-14T14:00:00.949529+00:00", "tags": [], "zone": "fr-par-1"}}'
    headers:
      Content-Length:
      - "430"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Dec 2023 14:00:00 GMT
      Location:
      - https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/eb1a9658-31f8-454a-851f-4e3569203d4b
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0ac53f09-7a96-4e37-a659-2c754f6db05d
    status: 201 Created
    code: 201
- request:
    body: '{"volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b", "name": "cli-test",
      "volume_type": "b_ssd", "export_uri": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "server": null, "size": 10000000000,
      "state": "available", "creation_date": "2023-12-14T14:00:00.949529+00:00", "modification_date":
      "2023-12-14T14:00:00.949529+00:00", "tags": [], "zone": "fr-par-1"}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/eb1a9658-31f8-454a-851f-4e3569203d4b
    method: GET
  response:
    body: '{"volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b", "name": "cli-test",
      "volume_type": "b_ssd", "export_uri": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "server": null, "size": 10000000000,
      "state": "available", "creation_date": "2023-12-14T14:00:00.949529+00:00", "modification_date":
      "2023-12-14T14:00:00.949529+00:00", "tags": [], "zone": "fr-par-1"}}'
    headers:
      Content-Length:
      - "430"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Dec 2023 14:00:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2b07e2ac-c3bf-42d8-8773-908f0f2b2d1e
    status: 200 OK
    code: 200
- request:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.157397+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["foo", "bar"], "zone": "fr-par-1", "error_details":
      null}, "task": {"id": "8f7e60e6-5bca-4a99-a3b3-22a52acb5080", "description":
      "snapshot_f8cf3efd-885d-46bd-b390-f3ce21df07eb", "status": "pending", "href_from":
      "/snapshots", "href_result": "snapshots/f8cf3efd-885d-46bd-b390-f3ce21df07eb",
      "started_at": "2023-12-14T14:00:01.377312+00:00", "terminated_at": null}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots
    method: POST
  response:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.157397+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["foo", "bar"], "zone": "fr-par-1", "error_details":
      null}, "task": {"id": "8f7e60e6-5bca-4a99-a3b3-22a52acb5080", "description":
      "snapshot_f8cf3efd-885d-46bd-b390-f3ce21df07eb", "status": "pending", "href_from":
      "/snapshots", "href_result": "snapshots/f8cf3efd-885d-46bd-b390-f3ce21df07eb",
      "started_at": "2023-12-14T14:00:01.377312+00:00", "terminated_at": null}}'
    headers:
      Content-Length:
      - "844"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Dec 2023 14:00:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a2ae1de6-bb36-4a2d-8c6e-64fccaf05a43
    status: 201 Created
    code: 201
- request:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.768008+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f8cf3efd-885d-46bd-b390-f3ce21df07eb
    method: PATCH
  response:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.768008+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    headers:
      Content-Length:
      - "538"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Dec 2023 14:00:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5c712745-de1f-4bb3-95b2-1877dbe7fd75
    status: 200 OK
    code: 200
- request:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.768008+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f8cf3efd-885d-46bd-b390-f3ce21df07eb
    method: GET
  response:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.768008+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    headers:
      Content-Length:
      - "538"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Dec 2023 14:00:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b7a65851-df88-4a03-8297-93b8b1345483
    status: 200 OK
    code: 200
- request:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.768008+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f8cf3efd-885d-46bd-b390-f3ce21df07eb
    method: GET
  response:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.768008+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    headers:
      Content-Length:
      - "538"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Dec 2023 14:00:06 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bd6f272b-ad89-45bf-9b9b-c7e05dcd0571
    status: 200 OK
    code: 200
- request:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.768008+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f8cf3efd-885d-46bd-b390-f3ce21df07eb
    method: GET
  response:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:01.768008+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "snapshotting", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b",
      "name": "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details":
      null}}'
    headers:
      Content-Length:
      - "538"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Dec 2023 14:00:12 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3f7d59ca-c411-45c8-8333-31f2a604233e
    status: 200 OK
    code: 200
- request:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:15.229731+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "available", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b", "name":
      "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details": null}}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f8cf3efd-885d-46bd-b390-f3ce21df07eb
    method: GET
  response:
    body: '{"snapshot": {"id": "f8cf3efd-885d-46bd-b390-f3ce21df07eb", "name": "cli-test-snapshot-update-tags",
      "volume_type": "b_ssd", "creation_date": "2023-12-14T14:00:01.157397+00:00",
      "modification_date": "2023-12-14T14:00:15.229731+00:00", "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "size": 10000000000, "state":
      "available", "base_volume": {"id": "eb1a9658-31f8-454a-851f-4e3569203d4b", "name":
      "cli-test"}, "tags": ["bar", "foo"], "zone": "fr-par-1", "error_details": null}}'
    headers:
      Content-Length:
      - "535"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Dec 2023 14:00:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 92942318-407d-4a93-830b-96ea98b4e52c
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/f8cf3efd-885d-46bd-b390-f3ce21df07eb
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Date:
      - Thu, 14 Dec 2023 14:00:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b4691d6e-debb-4627-b556-02da80858f35
    status: 204 No Content
    code: 204
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.21.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/eb1a9658-31f8-454a-851f-4e3569203d4b
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Date:
      - Thu, 14 Dec 2023 14:00:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9d16aaa7-4403-4f1b-ae64-67da61c342dc
    status: 204 No Content
    code: 204
