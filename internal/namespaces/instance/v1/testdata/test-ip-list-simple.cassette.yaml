---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 50
    host: api.scaleway.com
    body: "{\"project\":\"fa1e3217-dc80-42ac-85c3-3f034b78b552\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 365
    body: "{\"ip\": {\"id\": \"9918ae90-cd48-408f-97af-bcf3bc77afbc\", \"address\": \"51.15.229.243\", \"prefix\": null, \"reverse\": null, \"server\": null, \"organization\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"project\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"zone\": \"fr-par-1\", \"type\": \"routed_ipv4\", \"state\": \"detached\", \"tags\": [], \"ipam_id\": \"4eed59c6-696e-4e92-a394-48323abd12f0\"}}"
    headers:
      Content-Length:
      - "365"
      Content-Type:
      - application/json
      Date:
      - Tue, 04 Nov 2025 10:26:09 GMT
      Location:
      - https://api.scaleway.com/instance/v1/zones/fr-par-1/ips/9918ae90-cd48-408f-97af-bcf3bc77afbc
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 8591b25e-39e4-4212-b0b9-d6e295275155
    status: 201 Created
    code: 201
    duration: 310.064802ms
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    form:
      page:
      - "1"
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips?page=1
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 804
    body: "{\"ips\": [{\"id\": \"9ff6f7a8-d4b1-44c9-a51e-636185d6e60d\", \"address\": \"51.158.97.101\", \"prefix\": null, \"reverse\": null, \"server\": {\"id\": \"6ab3aeee-069c-493c-895c-f7328500e45b\", \"name\": \"cli-srv-priceless-black\"}, \"organization\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"project\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"zone\": \"fr-par-1\", \"type\": \"routed_ipv4\", \"state\": \"attached\", \"tags\": [], \"ipam_id\": \"4421046d-395f-44c0-aebc-6453fafd27f7\"}, {\"id\": \"9918ae90-cd48-408f-97af-bcf3bc77afbc\", \"address\": \"51.15.229.243\", \"prefix\": null, \"reverse\": null, \"server\": null, \"organization\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"project\": \"fa1e3217-dc80-42ac-85c3-3f034b78b552\", \"zone\": \"fr-par-1\", \"type\": \"routed_ipv4\", \"state\": \"detached\", \"tags\": [], \"ipam_id\": \"4eed59c6-696e-4e92-a394-48323abd12f0\"}]}"
    headers:
      Content-Length:
      - "804"
      Content-Type:
      - application/json
      Date:
      - Tue, 04 Nov 2025 10:26:09 GMT
      Link:
      - </ips?page=1&per_page=50&>; rel="last"
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - 8a5ff6fc-1c27-4945-8967-623c63a94ffe
      X-Total-Count:
      - "2"
    status: 200 OK
    code: 200
    duration: 88.529082ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips/51.15.229.243
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Tue, 04 Nov 2025 10:26:09 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      X-Request-Id:
      - e76373b3-2d7e-4ff0-ba50-c3eb884d90f8
    status: 204 No Content
    code: 204
    duration: 232.083653ms
