---
version: 2
interactions:
- request:
    body: '{"ip": {"id": "647be9ab-3627-4f02-b205-2ae3fe896c5d", "address": "51.15.214.148",
      "prefix": null, "reverse": null, "server": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "zone": "fr-par-1", "type":
      "nat", "state": "attached", "tags": []}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips
    method: POST
  response:
    body: '{"ip": {"id": "647be9ab-3627-4f02-b205-2ae3fe896c5d", "address": "51.15.214.148",
      "prefix": null, "reverse": null, "server": null, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "zone": "fr-par-1", "type":
      "nat", "state": "attached", "tags": []}}'
    headers:
      Content-Length:
      - "306"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 24 Jul 2023 13:37:29 GMT
      Location:
      - https://api.scaleway.com/instance/v1/zones/fr-par-1/ips/647be9ab-3627-4f02-b205-2ae3fe896c5d
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c0d2933a-a3e9-44cf-9142-007fb93e84cf
    status: 201 Created
    code: 201
- request:
    body: '{"ips": [{"id": "58542407-77e1-444b-9fa3-30c4a0d9d7fb", "address": "163.172.170.102",
      "prefix": null, "reverse": null, "server": {"id": "c66fe648-06c8-4cab-83d4-d963bf0ef8df",
      "name": "kubetest-runner"}, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "zone": "fr-par-1", "type":
      "nat", "state": "attached", "tags": []}, {"id": "647be9ab-3627-4f02-b205-2ae3fe896c5d",
      "address": "51.15.214.148", "prefix": null, "reverse": null, "server": null,
      "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "zone": "fr-par-1", "type": "nat", "state": "attached", "tags": []}]}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips?page=1
    method: GET
  response:
    body: '{"ips": [{"id": "58542407-77e1-444b-9fa3-30c4a0d9d7fb", "address": "163.172.170.102",
      "prefix": null, "reverse": null, "server": {"id": "c66fe648-06c8-4cab-83d4-d963bf0ef8df",
      "name": "kubetest-runner"}, "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "zone": "fr-par-1", "type":
      "nat", "state": "attached", "tags": []}, {"id": "647be9ab-3627-4f02-b205-2ae3fe896c5d",
      "address": "51.15.214.148", "prefix": null, "reverse": null, "server": null,
      "organization": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b", "project": "ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b",
      "zone": "fr-par-1", "type": "nat", "state": "attached", "tags": []}]}'
    headers:
      Content-Length:
      - "680"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 24 Jul 2023 13:37:30 GMT
      Link:
      - </ips?page=1&per_page=50&>; rel="last"
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f4b81692-de6b-42e4-a2dc-8a0352c581a5
      X-Total-Count:
      - "2"
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips/51.15.214.148
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Date:
      - Mon, 24 Jul 2023 13:37:31 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0222df9d-edf6-44d1-aa8c-a66d2e03bfda
    status: 204 No Content
    code: 204
