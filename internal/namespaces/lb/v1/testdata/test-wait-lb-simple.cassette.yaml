---
version: 2
interactions:
- request:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"to_create", "instances":[], "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899",
      "ip_address":"195.154.71.18", "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd",
      "reverse":"195-154-71-18.lb.fr-par.scw.cloud", "region":"fr-par", "zone":"fr-par-1"}],
      "tags":[], "frontend_count":0, "backend_count":0, "type":"lb-s", "subscriber":null,
      "ssl_compatibility_level":"ssl_compatibility_level_intermediate", "created_at":"2023-07-06T12:47:43.704696967Z",
      "updated_at":"2023-07-06T12:47:43.704696967Z", "private_network_count":0, "route_count":0,
      "region":"fr-par", "zone":"fr-par-1"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs
    method: POST
  response:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"to_create", "instances":[], "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899",
      "ip_address":"195.154.71.18", "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd",
      "reverse":"195-154-71-18.lb.fr-par.scw.cloud", "region":"fr-par", "zone":"fr-par-1"}],
      "tags":[], "frontend_count":0, "backend_count":0, "type":"lb-s", "subscriber":null,
      "ssl_compatibility_level":"ssl_compatibility_level_intermediate", "created_at":"2023-07-06T12:47:43.704696967Z",
      "updated_at":"2023-07-06T12:47:43.704696967Z", "private_network_count":0, "route_count":0,
      "region":"fr-par", "zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "893"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 06 Jul 2023 12:47:43 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7c55ede8-94ef-42d1-92cc-d46a590bd7c0
    status: 200 OK
    code: 200
- request:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"to_create", "instances":[], "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899",
      "ip_address":"195.154.71.18", "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd",
      "reverse":"195-154-71-18.lb.fr-par.scw.cloud", "region":"fr-par", "zone":"fr-par-1"}],
      "tags":[], "frontend_count":0, "backend_count":0, "type":"lb-s", "subscriber":null,
      "ssl_compatibility_level":"ssl_compatibility_level_intermediate", "created_at":"2023-07-06T12:47:43.704697Z",
      "updated_at":"2023-07-06T12:47:43.704697Z", "private_network_count":0, "route_count":0,
      "region":"fr-par", "zone":"fr-par-1"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs/cebb00bd-39b5-436b-84cd-bcb3b13eacbd
    method: GET
  response:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"to_create", "instances":[], "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899",
      "ip_address":"195.154.71.18", "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd",
      "reverse":"195-154-71-18.lb.fr-par.scw.cloud", "region":"fr-par", "zone":"fr-par-1"}],
      "tags":[], "frontend_count":0, "backend_count":0, "type":"lb-s", "subscriber":null,
      "ssl_compatibility_level":"ssl_compatibility_level_intermediate", "created_at":"2023-07-06T12:47:43.704697Z",
      "updated_at":"2023-07-06T12:47:43.704697Z", "private_network_count":0, "route_count":0,
      "region":"fr-par", "zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "887"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 06 Jul 2023 12:47:43 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 353eb988-bac2-4a54-b31d-9839b3fed386
    status: 200 OK
    code: 200
- request:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"creating", "instances":[{"id":"6a2e76a9-3801-4ac2-9b4c-ecbec83f6040",
      "status":"ready", "ip_address":"10.70.50.51", "created_at":"2023-07-06T09:31:35.041697Z",
      "updated_at":"2023-07-06T12:47:44.949327Z", "region":"fr-par", "zone":"fr-par-1"}],
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899", "ip_address":"195.154.71.18",
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "reverse":"195-154-71-18.lb.fr-par.scw.cloud",
      "region":"fr-par", "zone":"fr-par-1"}], "tags":[], "frontend_count":0, "backend_count":0,
      "type":"lb-s", "subscriber":null, "ssl_compatibility_level":"ssl_compatibility_level_intermediate",
      "created_at":"2023-07-06T12:47:43.704697Z", "updated_at":"2023-07-06T12:47:45.718239Z",
      "private_network_count":0, "route_count":0, "region":"fr-par", "zone":"fr-par-1"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs/cebb00bd-39b5-436b-84cd-bcb3b13eacbd
    method: GET
  response:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"creating", "instances":[{"id":"6a2e76a9-3801-4ac2-9b4c-ecbec83f6040",
      "status":"ready", "ip_address":"10.70.50.51", "created_at":"2023-07-06T09:31:35.041697Z",
      "updated_at":"2023-07-06T12:47:44.949327Z", "region":"fr-par", "zone":"fr-par-1"}],
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899", "ip_address":"195.154.71.18",
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "reverse":"195-154-71-18.lb.fr-par.scw.cloud",
      "region":"fr-par", "zone":"fr-par-1"}], "tags":[], "frontend_count":0, "backend_count":0,
      "type":"lb-s", "subscriber":null, "ssl_compatibility_level":"ssl_compatibility_level_intermediate",
      "created_at":"2023-07-06T12:47:43.704697Z", "updated_at":"2023-07-06T12:47:45.718239Z",
      "private_network_count":0, "route_count":0, "region":"fr-par", "zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "1103"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 06 Jul 2023 12:47:45 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4da7e3c8-4a47-4c17-841d-dafc8328e078
    status: 200 OK
    code: 200
- request:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"ready", "instances":[{"id":"6a2e76a9-3801-4ac2-9b4c-ecbec83f6040",
      "status":"ready", "ip_address":"10.70.50.51", "created_at":"2023-07-06T09:31:35.041697Z",
      "updated_at":"2023-07-06T12:47:44.949327Z", "region":"fr-par", "zone":"fr-par-1"}],
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899", "ip_address":"195.154.71.18",
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "reverse":"195-154-71-18.lb.fr-par.scw.cloud",
      "region":"fr-par", "zone":"fr-par-1"}], "tags":[], "frontend_count":0, "backend_count":0,
      "type":"lb-s", "subscriber":null, "ssl_compatibility_level":"ssl_compatibility_level_intermediate",
      "created_at":"2023-07-06T12:47:43.704697Z", "updated_at":"2023-07-06T12:47:45.966198Z",
      "private_network_count":0, "route_count":0, "region":"fr-par", "zone":"fr-par-1"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs/cebb00bd-39b5-436b-84cd-bcb3b13eacbd
    method: GET
  response:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"ready", "instances":[{"id":"6a2e76a9-3801-4ac2-9b4c-ecbec83f6040",
      "status":"ready", "ip_address":"10.70.50.51", "created_at":"2023-07-06T09:31:35.041697Z",
      "updated_at":"2023-07-06T12:47:44.949327Z", "region":"fr-par", "zone":"fr-par-1"}],
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899", "ip_address":"195.154.71.18",
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "reverse":"195-154-71-18.lb.fr-par.scw.cloud",
      "region":"fr-par", "zone":"fr-par-1"}], "tags":[], "frontend_count":0, "backend_count":0,
      "type":"lb-s", "subscriber":null, "ssl_compatibility_level":"ssl_compatibility_level_intermediate",
      "created_at":"2023-07-06T12:47:43.704697Z", "updated_at":"2023-07-06T12:47:45.966198Z",
      "private_network_count":0, "route_count":0, "region":"fr-par", "zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "1100"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 06 Jul 2023 12:47:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f4ae736d-bf48-47d5-9abb-20b1301d9c6b
    status: 200 OK
    code: 200
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs/cebb00bd-39b5-436b-84cd-bcb3b13eacbd?release_ip=false
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 06 Jul 2023 12:47:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5fef4048-c6e6-4d7f-aa16-8d06b5ebd2aa
    status: 204 No Content
    code: 204
- request:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"to_delete", "instances":[{"id":"6a2e76a9-3801-4ac2-9b4c-ecbec83f6040",
      "status":"ready", "ip_address":"10.70.50.51", "created_at":"2023-07-06T09:31:35.041697Z",
      "updated_at":"2023-07-06T12:47:44.949327Z", "region":"fr-par", "zone":"fr-par-1"}],
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899", "ip_address":"195.154.71.18",
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "reverse":"195-154-71-18.lb.fr-par.scw.cloud",
      "region":"fr-par", "zone":"fr-par-1"}], "tags":[], "frontend_count":0, "backend_count":0,
      "type":"lb-s", "subscriber":null, "ssl_compatibility_level":"ssl_compatibility_level_intermediate",
      "created_at":"2023-07-06T12:47:43.704697Z", "updated_at":"2023-07-06T12:47:48.169809Z",
      "private_network_count":0, "route_count":0, "region":"fr-par", "zone":"fr-par-1"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.20.4; darwin; amd64) cli-e2e-test
    url: https://api.scaleway.com/lb/v1/zones/fr-par-1/lbs/cebb00bd-39b5-436b-84cd-bcb3b13eacbd
    method: GET
  response:
    body: '{"id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "name":"cli-test", "description":"cli-test",
      "status":"to_delete", "instances":[{"id":"6a2e76a9-3801-4ac2-9b4c-ecbec83f6040",
      "status":"ready", "ip_address":"10.70.50.51", "created_at":"2023-07-06T09:31:35.041697Z",
      "updated_at":"2023-07-06T12:47:44.949327Z", "region":"fr-par", "zone":"fr-par-1"}],
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "ip":[{"id":"11e22061-70e5-4f39-916a-1e298215d899", "ip_address":"195.154.71.18",
      "organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5", "project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5",
      "lb_id":"cebb00bd-39b5-436b-84cd-bcb3b13eacbd", "reverse":"195-154-71-18.lb.fr-par.scw.cloud",
      "region":"fr-par", "zone":"fr-par-1"}], "tags":[], "frontend_count":0, "backend_count":0,
      "type":"lb-s", "subscriber":null, "ssl_compatibility_level":"ssl_compatibility_level_intermediate",
      "created_at":"2023-07-06T12:47:43.704697Z", "updated_at":"2023-07-06T12:47:48.169809Z",
      "private_network_count":0, "route_count":0, "region":"fr-par", "zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "1104"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 06 Jul 2023 12:47:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d00204e0-b1f4-4c75-98fd-ef9259fed314
    status: 200 OK
    code: 200
