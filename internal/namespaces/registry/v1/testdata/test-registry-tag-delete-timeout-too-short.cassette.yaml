---
version: 1
interactions:
- request:
    body: '{"id":"296a564d-b63d-42fa-818a-1422b2298021", "name":"cli-test-rg-tag-delete-naughty-villani",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":0, "created_at":"2025-10-30T14:49:49.265657097Z", "updated_at":"2025-10-30T14:49:49.265657097Z",
      "image_count":0, "region":"fr-par"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/namespaces
    method: POST
  response:
    body: '{"id":"296a564d-b63d-42fa-818a-1422b2298021", "name":"cli-test-rg-tag-delete-naughty-villani",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":0, "created_at":"2025-10-30T14:49:49.265657097Z", "updated_at":"2025-10-30T14:49:49.265657097Z",
      "image_count":0, "region":"fr-par"}'
    headers:
      Content-Length:
      - "494"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:49 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8f57396e-58ed-4b3a-9ea9-c2c9ddab0b64
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"images":[{"id":"b07d093d-712a-4790-8f81-6f208ac3cc89", "name":"hello-world",
      "namespace_id":"296a564d-b63d-42fa-818a-1422b2298021", "status":"ready", "status_message":"",
      "visibility":"inherit", "size":2927, "created_at":"2025-10-30T14:49:57.100463Z",
      "updated_at":"2025-10-30T14:49:57.358546Z", "tags":["latest"]}], "total_count":1}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/images?name=hello-world&namespace_id=296a564d-b63d-42fa-818a-1422b2298021&order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"images":[{"id":"b07d093d-712a-4790-8f81-6f208ac3cc89", "name":"hello-world",
      "namespace_id":"296a564d-b63d-42fa-818a-1422b2298021", "status":"ready", "status_message":"",
      "visibility":"inherit", "size":2927, "created_at":"2025-10-30T14:49:57.100463Z",
      "updated_at":"2025-10-30T14:49:57.358546Z", "tags":["latest"]}], "total_count":1}'
    headers:
      Content-Length:
      - "335"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:57 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7b8ca335-151e-4dc6-9f05-c004b345fd0d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"namespaces":[{"id":"bf784387-bf20-4c28-b6d8-060ddf1c2385", "name":"cli-test-rg-tag-delete-trusting-dirac",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-trusting-dirac", "is_public":false,
      "size":0, "created_at":"2025-10-30T14:49:49.260645Z", "updated_at":"2025-10-30T14:49:49.260645Z",
      "image_count":1, "region":"fr-par"}, {"id":"296a564d-b63d-42fa-818a-1422b2298021",
      "name":"cli-test-rg-tag-delete-naughty-villani", "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.265657Z", "updated_at":"2025-10-30T14:49:57.375667Z",
      "image_count":1, "region":"fr-par"}], "total_count":2}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/namespaces?order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"namespaces":[{"id":"bf784387-bf20-4c28-b6d8-060ddf1c2385", "name":"cli-test-rg-tag-delete-trusting-dirac",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-trusting-dirac", "is_public":false,
      "size":0, "created_at":"2025-10-30T14:49:49.260645Z", "updated_at":"2025-10-30T14:49:49.260645Z",
      "image_count":1, "region":"fr-par"}, {"id":"296a564d-b63d-42fa-818a-1422b2298021",
      "name":"cli-test-rg-tag-delete-naughty-villani", "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.265657Z", "updated_at":"2025-10-30T14:49:57.375667Z",
      "image_count":1, "region":"fr-par"}], "total_count":2}'
    headers:
      Content-Length:
      - "1013"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:57 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 6155388d-c709-41c3-b5ea-eb8eb536a23b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"images":[{"id":"b07d093d-712a-4790-8f81-6f208ac3cc89", "name":"hello-world",
      "namespace_id":"296a564d-b63d-42fa-818a-1422b2298021", "status":"ready", "status_message":"",
      "visibility":"inherit", "size":2927, "created_at":"2025-10-30T14:49:57.100463Z",
      "updated_at":"2025-10-30T14:49:57.358546Z", "tags":["latest"]}], "total_count":1}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/images?name=hello-world&namespace_id=296a564d-b63d-42fa-818a-1422b2298021&order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"images":[{"id":"b07d093d-712a-4790-8f81-6f208ac3cc89", "name":"hello-world",
      "namespace_id":"296a564d-b63d-42fa-818a-1422b2298021", "status":"ready", "status_message":"",
      "visibility":"inherit", "size":2927, "created_at":"2025-10-30T14:49:57.100463Z",
      "updated_at":"2025-10-30T14:49:57.358546Z", "tags":["latest"]}], "total_count":1}'
    headers:
      Content-Length:
      - "335"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:57 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d0ade0e2-3bcb-43a7-b47e-ecd0cc297e64
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"namespaces":[{"id":"bf784387-bf20-4c28-b6d8-060ddf1c2385", "name":"cli-test-rg-tag-delete-trusting-dirac",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-trusting-dirac", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.260645Z", "updated_at":"2025-10-30T14:49:57.703222Z",
      "image_count":1, "region":"fr-par"}, {"id":"296a564d-b63d-42fa-818a-1422b2298021",
      "name":"cli-test-rg-tag-delete-naughty-villani", "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.265657Z", "updated_at":"2025-10-30T14:49:57.375667Z",
      "image_count":1, "region":"fr-par"}], "total_count":2}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/namespaces?order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"namespaces":[{"id":"bf784387-bf20-4c28-b6d8-060ddf1c2385", "name":"cli-test-rg-tag-delete-trusting-dirac",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-trusting-dirac", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.260645Z", "updated_at":"2025-10-30T14:49:57.703222Z",
      "image_count":1, "region":"fr-par"}, {"id":"296a564d-b63d-42fa-818a-1422b2298021",
      "name":"cli-test-rg-tag-delete-naughty-villani", "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.265657Z", "updated_at":"2025-10-30T14:49:57.375667Z",
      "image_count":1, "region":"fr-par"}], "total_count":2}'
    headers:
      Content-Length:
      - "1016"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:58 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 19cea379-83b4-4c06-ba33-2bbbd911ac72
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"tags":[{"id":"088861a8-4571-44ef-b171-111b757337c1", "name":"latest",
      "image_id":"b07d093d-712a-4790-8f81-6f208ac3cc89", "status":"ready", "digest":"sha256:19459a6bbefb63f83f137f08c1df645f8846e2cd1f44fe209294ebc505e6495e",
      "created_at":"2025-10-30T14:49:57.117738Z", "updated_at":"2025-10-30T14:49:57.392892Z"}],
      "total_count":1}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/images/b07d093d-712a-4790-8f81-6f208ac3cc89/tags?name=latest&order_by=created_at_asc&page=1
    method: GET
  response:
    body: '{"tags":[{"id":"088861a8-4571-44ef-b171-111b757337c1", "name":"latest",
      "image_id":"b07d093d-712a-4790-8f81-6f208ac3cc89", "status":"ready", "digest":"sha256:19459a6bbefb63f83f137f08c1df645f8846e2cd1f44fe209294ebc505e6495e",
      "created_at":"2025-10-30T14:49:57.117738Z", "updated_at":"2025-10-30T14:49:57.392892Z"}],
      "total_count":1}'
    headers:
      Content-Length:
      - "331"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:58 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3b292d48-9cfd-45bf-8bc9-b69d0bee7ecc
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"b07d093d-712a-4790-8f81-6f208ac3cc89", "name":"hello-world", "namespace_id":"296a564d-b63d-42fa-818a-1422b2298021",
      "status":"ready", "status_message":"", "visibility":"inherit", "size":2927,
      "created_at":"2025-10-30T14:49:57.100463Z", "updated_at":"2025-10-30T14:49:57.358546Z",
      "tags":["latest"]}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/images/b07d093d-712a-4790-8f81-6f208ac3cc89
    method: GET
  response:
    body: '{"id":"b07d093d-712a-4790-8f81-6f208ac3cc89", "name":"hello-world", "namespace_id":"296a564d-b63d-42fa-818a-1422b2298021",
      "status":"ready", "status_message":"", "visibility":"inherit", "size":2927,
      "created_at":"2025-10-30T14:49:57.100463Z", "updated_at":"2025-10-30T14:49:57.358546Z",
      "tags":["latest"]}'
    headers:
      Content-Length:
      - "305"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:58 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c4d0beb1-bafb-4b4f-8889-13bf1cc4dbbd
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"296a564d-b63d-42fa-818a-1422b2298021", "name":"cli-test-rg-tag-delete-naughty-villani",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.265657Z", "updated_at":"2025-10-30T14:49:57.375667Z",
      "image_count":1, "region":"fr-par"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/namespaces/296a564d-b63d-42fa-818a-1422b2298021
    method: GET
  response:
    body: '{"id":"296a564d-b63d-42fa-818a-1422b2298021", "name":"cli-test-rg-tag-delete-naughty-villani",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"ready", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.265657Z", "updated_at":"2025-10-30T14:49:57.375667Z",
      "image_count":1, "region":"fr-par"}'
    headers:
      Content-Length:
      - "491"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:58 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ee734820-727d-4d72-ae4d-0d2c230fff9d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"296a564d-b63d-42fa-818a-1422b2298021", "name":"cli-test-rg-tag-delete-naughty-villani",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"deleting", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.265657Z", "updated_at":"2025-10-30T14:49:58.455606268Z",
      "image_count":1, "region":"fr-par"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.1; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/registry/v1/regions/fr-par/namespaces/296a564d-b63d-42fa-818a-1422b2298021
    method: DELETE
  response:
    body: '{"id":"296a564d-b63d-42fa-818a-1422b2298021", "name":"cli-test-rg-tag-delete-naughty-villani",
      "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf",
      "project_id":"105bdce1-64c0-48ab-899d-868455867ecf", "status":"deleting", "status_message":"",
      "endpoint":"rg.fr-par.scw.cloud/cli-test-rg-tag-delete-naughty-villani", "is_public":false,
      "size":2927, "created_at":"2025-10-30T14:49:49.265657Z", "updated_at":"2025-10-30T14:49:58.455606268Z",
      "image_count":1, "region":"fr-par"}'
    headers:
      Content-Length:
      - "497"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 30 Oct 2025 14:49:58 GMT
      Server:
      - Scaleway API Gateway (fr-par-3;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c3cc7fa7-3102-4666-9e68-6eff27e7cce3
    status: 200 OK
    code: 200
    duration: ""
