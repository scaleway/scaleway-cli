---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 104
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"id":"53376d20-8e44-422f-a1bd-ee30debc6ac9", "name":"test-cli-get-policy", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf", "created_at":"2025-08-07T09:56:43.651067Z", "updated_at":"2025-08-07T09:56:43.651067Z", "description":"", "qualification":null}'
        form: {}
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) cli-e2e-test
        url: https://api.scaleway.com/account/v3/projects
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 261
        uncompressed: false
        body: '{"id":"53376d20-8e44-422f-a1bd-ee30debc6ac9", "name":"test-cli-get-policy", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf", "created_at":"2025-08-07T09:56:43.651067Z", "updated_at":"2025-08-07T09:56:43.651067Z", "description":"", "qualification":null}'
        headers:
            Content-Length:
                - "261"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 07 Aug 2025 09:56:43 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 548b9ec2-d083-4229-a2df-77c410cb6071
        status: 200 OK
        code: 200
        duration: 437.644283ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 258
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"id":"d5078a28-1d00-45ab-b939-b1f9ec772fe3", "name":"test-cli-get-policy", "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf", "created_at":"2025-08-07T09:56:44.085765Z", "updated_at":"2025-08-07T09:56:44.085765Z", "editable":true, "deletable":true, "managed":false, "nb_rules":0, "nb_scopes":0, "nb_permission_sets":0, "tags":[], "no_principal":true}'
        form: {}
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) cli-e2e-test
        url: https://api.scaleway.com/iam/v1alpha1/policies
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 376
        uncompressed: false
        body: '{"id":"d5078a28-1d00-45ab-b939-b1f9ec772fe3", "name":"test-cli-get-policy", "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf", "created_at":"2025-08-07T09:56:44.085765Z", "updated_at":"2025-08-07T09:56:44.085765Z", "editable":true, "deletable":true, "managed":false, "nb_rules":0, "nb_scopes":0, "nb_permission_sets":0, "tags":[], "no_principal":true}'
        headers:
            Content-Length:
                - "376"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 07 Aug 2025 09:56:44 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 2262e642-0570-4365-9c06-e3a836235256
        status: 200 OK
        code: 200
        duration: 216.181674ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"id":"d5078a28-1d00-45ab-b939-b1f9ec772fe3", "name":"test-cli-get-policy", "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf", "created_at":"2025-08-07T09:56:44.085765Z", "updated_at":"2025-08-07T09:56:44.085765Z", "editable":true, "deletable":true, "managed":false, "nb_rules":1, "nb_scopes":1, "nb_permission_sets":1, "tags":[], "no_principal":true}'
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) cli-e2e-test
        url: https://api.scaleway.com/iam/v1alpha1/policies/d5078a28-1d00-45ab-b939-b1f9ec772fe3
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 376
        uncompressed: false
        body: '{"id":"d5078a28-1d00-45ab-b939-b1f9ec772fe3", "name":"test-cli-get-policy", "description":"", "organization_id":"105bdce1-64c0-48ab-899d-868455867ecf", "created_at":"2025-08-07T09:56:44.085765Z", "updated_at":"2025-08-07T09:56:44.085765Z", "editable":true, "deletable":true, "managed":false, "nb_rules":1, "nb_scopes":1, "nb_permission_sets":1, "tags":[], "no_principal":true}'
        headers:
            Content-Length:
                - "376"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 07 Aug 2025 09:56:44 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 1713a4ce-9ac1-4dc6-9d09-23b17cd47895
        status: 200 OK
        code: 200
        duration: 138.878032ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"rules":[{"id":"eb7fb025-635d-4afc-82f9-163ea3b55cc3", "permission_set_names":["IPAMReadOnly"], "permission_sets_scope_type":"projects", "condition":"", "project_ids":["53376d20-8e44-422f-a1bd-ee30debc6ac9"]}], "total_count":1}'
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) cli-e2e-test
        url: https://api.scaleway.com/iam/v1alpha1/rules?page=1&policy_id=d5078a28-1d00-45ab-b939-b1f9ec772fe3
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 228
        uncompressed: false
        body: '{"rules":[{"id":"eb7fb025-635d-4afc-82f9-163ea3b55cc3", "permission_set_names":["IPAMReadOnly"], "permission_sets_scope_type":"projects", "condition":"", "project_ids":["53376d20-8e44-422f-a1bd-ee30debc6ac9"]}], "total_count":1}'
        headers:
            Content-Length:
                - "228"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 07 Aug 2025 09:56:44 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 0076f492-446f-4724-b15a-fa7e356226c3
        status: 200 OK
        code: 200
        duration: 157.532859ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) cli-e2e-test
        url: https://api.scaleway.com/iam/v1alpha1/policies/d5078a28-1d00-45ab-b939-b1f9ec772fe3
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: false
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 07 Aug 2025 09:56:44 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 92fb60ce-84db-4e83-a364-28db00238d5b
        status: 204 No Content
        code: 204
        duration: 136.342579ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64) cli-e2e-test
        url: https://api.scaleway.com/account/v3/projects/53376d20-8e44-422f-a1bd-ee30debc6ac9
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: false
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Thu, 07 Aug 2025 09:56:46 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - f247a058-ecd1-488f-8db4-d780af86e520
        status: 204 No Content
        code: 204
        duration: 1.439421985s
