---
version: 1
interactions:
- request:
    body: '{"users":[{"id":"aa669c52-3448-42fb-94ba-f6350a4278d8", "email":"esoulard@scaleway.com",
      "username":"esoulard@scaleway.com", "first_name":"Estelle", "last_name":"SOULARD",
      "phone_number":"", "locale":"en_US", "created_at":"2022-03-29T11:44:54.791271Z",
      "updated_at":"2025-10-23T13:13:41.793202Z", "organization_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "deletable":false, "last_login_at":"2025-10-23T13:13:41.797635Z", "type":"owner",
      "two_factor_enabled":true, "status":"activated", "mfa":true, "account_root_user_id":"dd89a02c-b199-46c8-9f71-65eeb6346751",
      "tags":[], "locked":false}], "total_count":1}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/iam/v1alpha1/users?order_by=created_at_asc&organization_id=11111111-1111-1111-1111-111111111111&page=1&type=owner
    method: GET
  response:
    body: '{"users":[{"id":"aa669c52-3448-42fb-94ba-f6350a4278d8", "email":"esoulard@scaleway.com",
      "username":"esoulard@scaleway.com", "first_name":"Estelle", "last_name":"SOULARD",
      "phone_number":"", "locale":"en_US", "created_at":"2022-03-29T11:44:54.791271Z",
      "updated_at":"2025-10-23T13:13:41.793202Z", "organization_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "deletable":false, "last_login_at":"2025-10-23T13:13:41.797635Z", "type":"owner",
      "two_factor_enabled":true, "status":"activated", "mfa":true, "account_root_user_id":"dd89a02c-b199-46c8-9f71-65eeb6346751",
      "tags":[], "locked":false}], "total_count":1}'
    headers:
      Content-Length:
      - "606"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Oct 2025 13:27:06 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 53aaba0b-2758-4cb6-ad3a-ab7996d06485
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"api_keys":[{"access_key":"SCWF6K9RF8ABTV51WJH6", "secret_key":null, "description":"",
      "created_at":"2023-02-09T16:25:11.096188Z", "updated_at":"2023-02-09T16:25:11.096188Z",
      "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.9",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}, {"access_key":"SCWBZDNS7MNP8491YA6H",
      "secret_key":null, "description":"", "created_at":"2023-03-16T10:11:07.024747Z",
      "updated_at":"2023-03-16T10:11:07.024747Z", "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"10.32.0.150",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}, {"access_key":"SCWTTHJXQG8F3RMY4B47",
      "secret_key":null, "description":"", "created_at":"2024-10-23T15:59:54.638379Z",
      "updated_at":"2024-10-23T15:59:54.638379Z", "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.46.153",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}, {"access_key":"SCW3ZF1PRF42BDBQ2H9A",
      "secret_key":null, "description":"admin", "created_at":"2024-11-12T16:59:46.317687Z",
      "updated_at":"2024-11-12T16:59:46.317687Z", "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"10.32.0.158",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}, {"access_key":"SCW3QD3329JVEKTE7JW4",
      "secret_key":null, "description":"esoulard", "created_at":"2025-10-22T12:42:45.400207Z",
      "updated_at":"2025-10-22T12:42:45.400207Z", "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"10.32.40.126",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}], "total_count":5}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/iam/v1alpha1/api-keys?bearer_id=aa669c52-3448-42fb-94ba-f6350a4278d8&bearer_type=unknown_bearer_type&order_by=created_at_asc&organization_id=11111111-1111-1111-1111-111111111111&page=1
    method: GET
  response:
    body: '{"api_keys":[{"access_key":"SCWF6K9RF8ABTV51WJH6", "secret_key":null, "description":"",
      "created_at":"2023-02-09T16:25:11.096188Z", "updated_at":"2023-02-09T16:25:11.096188Z",
      "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.9",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}, {"access_key":"SCWBZDNS7MNP8491YA6H",
      "secret_key":null, "description":"", "created_at":"2023-03-16T10:11:07.024747Z",
      "updated_at":"2023-03-16T10:11:07.024747Z", "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"10.32.0.150",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}, {"access_key":"SCWTTHJXQG8F3RMY4B47",
      "secret_key":null, "description":"", "created_at":"2024-10-23T15:59:54.638379Z",
      "updated_at":"2024-10-23T15:59:54.638379Z", "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.46.153",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}, {"access_key":"SCW3ZF1PRF42BDBQ2H9A",
      "secret_key":null, "description":"admin", "created_at":"2024-11-12T16:59:46.317687Z",
      "updated_at":"2024-11-12T16:59:46.317687Z", "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"10.32.0.158",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}, {"access_key":"SCW3QD3329JVEKTE7JW4",
      "secret_key":null, "description":"esoulard", "created_at":"2025-10-22T12:42:45.400207Z",
      "updated_at":"2025-10-22T12:42:45.400207Z", "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"10.32.40.126",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}], "total_count":5}'
    headers:
      Content-Length:
      - "1921"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Oct 2025 13:27:06 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5970d070-54ef-47a5-850d-9af8b9268723
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"access_key":"SCWF6K9RF8ABTV51WJH6", "secret_key":null, "description":"",
      "created_at":"2023-02-09T16:25:11.096188Z", "updated_at":"2023-02-09T16:25:11.096188Z",
      "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.9",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWF6K9RF8ABTV51WJH6
    method: GET
  response:
    body: '{"access_key":"SCWF6K9RF8ABTV51WJH6", "secret_key":null, "description":"",
      "created_at":"2023-02-09T16:25:11.096188Z", "updated_at":"2023-02-09T16:25:11.096188Z",
      "expires_at":null, "default_project_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.9",
      "user_id":"aa669c52-3448-42fb-94ba-f6350a4278d8"}'
    headers:
      Content-Length:
      - "373"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Oct 2025 13:27:06 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a89af173-7e21-4f48-996e-38aea0d42505
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"aa669c52-3448-42fb-94ba-f6350a4278d8", "email":"esoulard@scaleway.com",
      "username":"esoulard@scaleway.com", "first_name":"Estelle", "last_name":"SOULARD",
      "phone_number":"", "locale":"en_US", "created_at":"2022-03-29T11:44:54.791271Z",
      "updated_at":"2025-10-23T13:13:41.793202Z", "organization_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "deletable":false, "last_login_at":"2025-10-23T13:13:41.797635Z", "type":"owner",
      "two_factor_enabled":true, "status":"activated", "mfa":true, "account_root_user_id":"dd89a02c-b199-46c8-9f71-65eeb6346751",
      "tags":[], "locked":false}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; linux; amd64) cli-e2e-test
    url: https://api.scaleway.com/iam/v1alpha1/users/aa669c52-3448-42fb-94ba-f6350a4278d8
    method: GET
  response:
    body: '{"id":"aa669c52-3448-42fb-94ba-f6350a4278d8", "email":"esoulard@scaleway.com",
      "username":"esoulard@scaleway.com", "first_name":"Estelle", "last_name":"SOULARD",
      "phone_number":"", "locale":"en_US", "created_at":"2022-03-29T11:44:54.791271Z",
      "updated_at":"2025-10-23T13:13:41.793202Z", "organization_id":"57a1e028-d7d3-4a4e-80cf-52cef8fd0d3e",
      "deletable":false, "last_login_at":"2025-10-23T13:13:41.797635Z", "type":"owner",
      "two_factor_enabled":true, "status":"activated", "mfa":true, "account_root_user_id":"dd89a02c-b199-46c8-9f71-65eeb6346751",
      "tags":[], "locked":false}'
    headers:
      Content-Length:
      - "577"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 23 Oct 2025 13:27:06 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e2d600a7-0577-4a51-addf-0f5c7d40abe0
    status: 200 OK
    code: 200
    duration: ""
