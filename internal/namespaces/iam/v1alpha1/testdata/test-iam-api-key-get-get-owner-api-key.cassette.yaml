---
version: 1
interactions:
- request:
    body: '{"users":[{"id":"3153ad6d-2866-4471-b0b3-6728cf875a1c", "email":"gnoale@scaleway.com",
      "username":"gnoale@scaleway.com", "first_name":"Guillaume", "last_name":"NOALE",
      "phone_number":"", "locale":"en_US", "created_at":"2025-03-28T10:50:07.185700Z",
      "updated_at":"2025-05-14T07:13:05.513760Z", "organization_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "deletable":false, "last_login_at":"2025-05-14T07:13:05.534507Z", "type":"owner",
      "two_factor_enabled":false, "status":"activated", "mfa":false, "account_root_user_id":"a4b0ffed-f500-4ea6-b469-51bbc7b2cb99",
      "tags":[], "locked":false}], "total_count":1}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) cli-e2e-test
    url: https://api.scaleway.com/iam/v1alpha1/users?order_by=created_at_asc&organization_id=11111111-1111-1111-1111-111111111111&page=1&type=owner
    method: GET
  response:
    body: '{"users":[{"id":"3153ad6d-2866-4471-b0b3-6728cf875a1c", "email":"gnoale@scaleway.com",
      "username":"gnoale@scaleway.com", "first_name":"Guillaume", "last_name":"NOALE",
      "phone_number":"", "locale":"en_US", "created_at":"2025-03-28T10:50:07.185700Z",
      "updated_at":"2025-05-14T07:13:05.513760Z", "organization_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "deletable":false, "last_login_at":"2025-05-14T07:13:05.534507Z", "type":"owner",
      "two_factor_enabled":false, "status":"activated", "mfa":false, "account_root_user_id":"a4b0ffed-f500-4ea6-b469-51bbc7b2cb99",
      "tags":[], "locked":false}], "total_count":1}'
    headers:
      Content-Length:
      - "604"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 14 May 2025 09:53:10 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 81e07083-ae9a-43b6-baae-551f019a2f26
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"api_keys":[{"access_key":"SCWEBEM4J7VT79C0T0GA", "secret_key":null, "description":"",
      "created_at":"2025-04-02T14:15:50.935181Z", "updated_at":"2025-04-02T14:15:50.935181Z",
      "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.9",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCW3WPMMZ8P22BBBNS4V",
      "secret_key":null, "description":"Generated by the Scaleway CLI", "created_at":"2025-04-29T15:18:01.672815Z",
      "updated_at":"2025-04-29T15:18:01.672815Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.145",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCWMB21R57P0JW61ZRZS",
      "secret_key":null, "description":"Generated by the Scaleway CLI", "created_at":"2025-04-29T15:23:05.331991Z",
      "updated_at":"2025-04-29T15:23:05.331991Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.145",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCW4X3NP96C7TQ9N2G89",
      "secret_key":null, "description":"Generated by the Scaleway CLI", "created_at":"2025-04-30T11:55:13.517669Z",
      "updated_at":"2025-04-30T11:55:13.517669Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.46.153",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCWHZJRJ73PWV0ZZH5GM",
      "secret_key":null, "description":"Generated by the Scaleway CLI", "created_at":"2025-04-30T11:55:41.312909Z",
      "updated_at":"2025-04-30T11:55:41.312909Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.46.153",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCW79SWGVREBYB1ZJF48",
      "secret_key":null, "description":"", "created_at":"2025-05-09T13:47:27.155571Z",
      "updated_at":"2025-05-09T13:47:27.155571Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.145",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCWTV265FQBGRYWA8X54",
      "secret_key":null, "description":"", "created_at":"2025-05-09T13:47:55.688075Z",
      "updated_at":"2025-05-09T13:47:55.688075Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.145",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}], "total_count":7}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) cli-e2e-test
    url: https://api.scaleway.com/iam/v1alpha1/api-keys?bearer_id=3153ad6d-2866-4471-b0b3-6728cf875a1c&bearer_type=unknown_bearer_type&order_by=created_at_asc&organization_id=11111111-1111-1111-1111-111111111111&page=1
    method: GET
  response:
    body: '{"api_keys":[{"access_key":"SCWEBEM4J7VT79C0T0GA", "secret_key":null, "description":"",
      "created_at":"2025-04-02T14:15:50.935181Z", "updated_at":"2025-04-02T14:15:50.935181Z",
      "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.9",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCW3WPMMZ8P22BBBNS4V",
      "secret_key":null, "description":"Generated by the Scaleway CLI", "created_at":"2025-04-29T15:18:01.672815Z",
      "updated_at":"2025-04-29T15:18:01.672815Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.145",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCWMB21R57P0JW61ZRZS",
      "secret_key":null, "description":"Generated by the Scaleway CLI", "created_at":"2025-04-29T15:23:05.331991Z",
      "updated_at":"2025-04-29T15:23:05.331991Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.145",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCW4X3NP96C7TQ9N2G89",
      "secret_key":null, "description":"Generated by the Scaleway CLI", "created_at":"2025-04-30T11:55:13.517669Z",
      "updated_at":"2025-04-30T11:55:13.517669Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.46.153",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCWHZJRJ73PWV0ZZH5GM",
      "secret_key":null, "description":"Generated by the Scaleway CLI", "created_at":"2025-04-30T11:55:41.312909Z",
      "updated_at":"2025-04-30T11:55:41.312909Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.46.153",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCW79SWGVREBYB1ZJF48",
      "secret_key":null, "description":"", "created_at":"2025-05-09T13:47:27.155571Z",
      "updated_at":"2025-05-09T13:47:27.155571Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.145",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}, {"access_key":"SCWTV265FQBGRYWA8X54",
      "secret_key":null, "description":"", "created_at":"2025-05-09T13:47:55.688075Z",
      "updated_at":"2025-05-09T13:47:55.688075Z", "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.145",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}], "total_count":7}'
    headers:
      Content-Length:
      - "2783"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 14 May 2025 09:53:10 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1d460c1c-7cc2-4f0b-b791-a7010dd0350c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"access_key":"SCWEBEM4J7VT79C0T0GA", "secret_key":null, "description":"",
      "created_at":"2025-04-02T14:15:50.935181Z", "updated_at":"2025-04-02T14:15:50.935181Z",
      "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.9",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) cli-e2e-test
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWEBEM4J7VT79C0T0GA
    method: GET
  response:
    body: '{"access_key":"SCWEBEM4J7VT79C0T0GA", "secret_key":null, "description":"",
      "created_at":"2025-04-02T14:15:50.935181Z", "updated_at":"2025-04-02T14:15:50.935181Z",
      "expires_at":null, "default_project_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "editable":true, "deletable":true, "managed":false, "creation_ip":"51.159.73.9",
      "user_id":"3153ad6d-2866-4471-b0b3-6728cf875a1c"}'
    headers:
      Content-Length:
      - "373"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 14 May 2025 09:53:10 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e4706c0e-5f7c-4f10-b29a-000f997ebf7a
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"id":"3153ad6d-2866-4471-b0b3-6728cf875a1c", "email":"gnoale@scaleway.com",
      "username":"gnoale@scaleway.com", "first_name":"Guillaume", "last_name":"NOALE",
      "phone_number":"", "locale":"en_US", "created_at":"2025-03-28T10:50:07.185700Z",
      "updated_at":"2025-05-14T07:13:05.513760Z", "organization_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "deletable":false, "last_login_at":"2025-05-14T07:13:05.534507Z", "type":"owner",
      "two_factor_enabled":false, "status":"activated", "mfa":false, "account_root_user_id":"a4b0ffed-f500-4ea6-b469-51bbc7b2cb99",
      "tags":[], "locked":false}'
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.2; darwin; arm64) cli-e2e-test
    url: https://api.scaleway.com/iam/v1alpha1/users/3153ad6d-2866-4471-b0b3-6728cf875a1c
    method: GET
  response:
    body: '{"id":"3153ad6d-2866-4471-b0b3-6728cf875a1c", "email":"gnoale@scaleway.com",
      "username":"gnoale@scaleway.com", "first_name":"Guillaume", "last_name":"NOALE",
      "phone_number":"", "locale":"en_US", "created_at":"2025-03-28T10:50:07.185700Z",
      "updated_at":"2025-05-14T07:13:05.513760Z", "organization_id":"6867048b-fe12-4e96-835e-41c79a39604b",
      "deletable":false, "last_login_at":"2025-05-14T07:13:05.534507Z", "type":"owner",
      "two_factor_enabled":false, "status":"activated", "mfa":false, "account_root_user_id":"a4b0ffed-f500-4ea6-b469-51bbc7b2cb99",
      "tags":[], "locked":false}'
    headers:
      Content-Length:
      - "575"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 14 May 2025 09:53:10 GMT
      Server:
      - Scaleway API Gateway (fr-par-2;edge01)
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c3a36720-5a22-49bb-96ec-714397f6b732
    status: 200 OK
    code: 200
    duration: ""
